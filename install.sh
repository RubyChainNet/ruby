#!/bin/bash

echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@ ........ @@@@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@............@@@@@@@@@@@@@@@@@@@@@@@@@@.... @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@.............@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@............. @@@@@@@@@@@@@@@@@@@@@@@@....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@.....@@.......@@@@@@@@@@@@@@@@@@@@@@@@....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@@.....@@@@.... @@@@@@@@@@@@@@@@@@@@@@@@....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@ .....@@@@.....@@@@@@@@@@@@@@@@@@@@@@@@....@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@......@@@@.... @@@@@@@@@@@@@@@@@@@@@@@@....@....-@@@@@@@@@@@@@@@@@@@@@@@@@@
echo @@@@@......@@@......@@@@....@@@@@@.....@@@@ ............@@@@ ....@@@@@@,....@@@@
echo @@@@@...... ........@@@@....@@@@@@....@@@@@..............@@@ .....@@@@@.....@@@@
echo @@@@@..............@@@@ ....@@@@@ ....@@@@@..............@@@@.....@@@@......@@@@
echo @@@@@............. @@@@.....@@@@@ ....@@@@@...............@@@.....@@@......@@@@@
echo @@@@@........... @@@@@@.....@@@@@.....@@@@@.....@@@@,.....@@@@.....@@.....@@@@@@
echo @@@@ ..........@@@@@@@@.....@@@@@.....@@@@@.... @@@@@.....@@@@.....@......@@@@@@
echo @@@@ ...........@@@@@@@.....@@@@@.....@@@@-....@@@@@@.....@@@@..... .....@@@@@@@
echo @@@@ ....@ .....@@@@@@@.....@@@@@....@@@@@ ....@@@@@@.....@@@@@.........@@@@@@@@
echo @@@@.....@@.....-@@@@@ .... @@@@.....@@@@@.....@@@@@@.....@@@@@.........@@@@@@@@
echo @@@@.....@@@.....@@@@@,....@@@@@ ....@@@@@.....@@@@@ .... @@@@@@.......@@@@@@@@@
echo @@@@.....@@@ .....@@@@ ....,@@@@.....@@@@@..... @@@@..... @@@@@@...... @@@@@@@@@
echo @@@@.....@@@@......@@@@.....@@@.....-@@@@@......@@@ .....@@@@@@@......@@@@@@@@@@
echo @@@@.... @@@@-..... @@@.............@@@@@@..............@@@@@@@@.....@@@@@@@@@@@
echo @@@@....@@@@@@......@@@ ............@@@@@.............. @@@@@@@ .... @@@@@@@@@@@
echo @@@@....@@@@@@@.....@@@@ ..........@@@@@@ .... ........@@@@@@@@.....@@@@@@@@@@@@
echo @@@@ ,, @@@@@@@ ,,, @@@@@  ......@@@@@@@@@..  @@......@@@@@@@@..... @@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@,.....@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ .....@@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@..... @@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.... @@@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.....@@@@@@@@@@@@@@@@
echo @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


basepath=$(cd `dirname $0`; pwd)

cd $basepath

if [ "$(uname)" == "Darwin" ]; then

	sudo cp -f bin_Darwin/{rubyz,rubyi} /usr/local/bin/

	sudo chmod +x /usr/local/bin/rubyz
	sudo chmod +x /usr/local/bin/rubyi

	if [ -f "/usr/local/bin/rubyz" ] && [ -f "/usr/local/bin/rubyi" ]; then

	echo "Install for macosx successful."

	else

	echo "Install for macosx fail."

	fi

elif [ "$(uname)" == "Linux" ]  && [ "$(uname -m)" == 'x86_64' ]; then

	if [ -d "/usr/lib64" ];then
		echo "The system is just like centos-X64"
		sudo cp -rf bin_Linux_x86_64/lib/* /usr/lib64/
	fi

	if [ -d "/usr/lib" ];then
		echo "The system is just like ubuntu-X64"
		sudo cp -rf bin_Linux_x86_64/lib/* /usr/lib/
	fi

	sudo cp -f bin_Linux_x86_64/{rubyz,rubyi} /usr/local/bin/

	sudo chmod +x /usr/local/bin/rubyz
	sudo chmod +x /usr/local/bin/rubyi

	if [ -f "/usr/local/bin/rubyz" ] && [ -f "/usr/local/bin/rubyi" ] && [ -f "/usr/lib/libboost_system.so.1.54.0" ]; then

	echo "Install Ruby for Linux X86_64 successful."

	else

	echo "Install Ruby for Linux X86_64 fail."
    
    fi

elif [ "$(uname)" == "Linux" ] && [ "$(uname -m)" == "aarch64" ]; then
	
	sudo cp -rf bin_Linux_aarch64/lib/* /usr/lib/
	sudo cp -f bin_Linux_aarch64/{rubyz,rubyi} /usr/local/bin/

	sudo chmod +x /usr/local/bin/rubyz
	sudo chmod +x /usr/local/bin/rubyi

	if [ -f "/usr/local/bin/rubyz" ] && [ -f "/usr/local/bin/rubyi" ] && [ -f "/usr/lib/libboost_system.so.1.58.0" ] ; then

	echo "Install Ruby for Linux arm64 successful."

	else

	echo "Install Ruby for Linux arm64 fail."
    
    fi

else

	echo "Ruby does not support your system."
	echo "Install Ruby fail."

fi

